/* 1. Tailwind 注入 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 2. 颜色 & 字体变量 */
:root {
  --color-primary: #a8c7fa;
  --color-on-primary: #0a325c;
  --color-primary-container: #264874;
  --color-on-primary-container: #d5e3ff;
  --color-surface-container: #1f2429;
  --color-surface-container-high: #2a2f34;
  --color-surface-container-highest: #353a3f;
  --color-on-surface: #e2e2e6;
  --color-on-surface-variant: #c2c7ce;
  --color-outline: #8c9199;
  --color-background: #111315;
  --color-on-background: #e2e2e6;
  --color-error: #f2b8b5;
  --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "HarmonyOS Sans SC", "PingFang SC", "Microsoft YaHei", "Helvetica Neue", Arial, sans-serif;
}
@media (prefers-color-scheme: light) {
  :root {
    --color-primary: #0b57d0;
    --color-on-primary: #ffffff;
    --color-primary-container: #d8e2ff;
    --color-on-primary-container: #001945;
    --color-surface-container: #eff1f6;
    --color-surface-container-high: #e9ecf1;
    --color-surface-container-highest: #e3e6eb;
    --color-on-surface: #191c1e;
    --color-on-surface-variant: #42474e;
    --color-outline: #73777f;
    --color-background: #f8f9fc;
    --color-on-background: #191c1e;
    --color-error: #b3261e;
  }
}

/* 3. 自定义 error 块 */
@layer utilities {
  .error-feedback-box {
    @apply rounded-2xl border text-sm text-error px-4 py-6;
    background-color: color-mix(in srgb, var(--color-error) 10%, transparent);
    border-color: color-mix(in srgb, var(--color-error) 40%, transparent);
  }
}

/* 4. 自定义组件样式 */
@layer components {
  .audio-button {
    @apply inline-flex h-8 w-8 items-center justify-center rounded-full;
    @apply transition-colors duration-200;
  }
  .audio-button:hover:not([data-state]) {
    background-color: color-mix(in srgb, var(--color-on-surface) 10%, transparent);
  }
  .audio-button:focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
  }
  
  .audio-button svg {
    @apply h-5 w-5;
    color: var(--color-on-surface-variant);
    transition: color 0.2s;
  }
  .audio-button:hover:not([data-state]) svg {
    color: var(--color-on-surface);
  }

  .audio-button[data-state="networking"] svg,
  .audio-button[data-state="playing"] svg {
    color: var(--color-on-background);
  }
}

/* 5. 新增：建议列表和涟漪效果样式 */
@layer components {
  .suggestion-list {
    will-change: transform, opacity;
    transition: transform 200ms cubic-bezier(0.05, 0.7, 0.1, 1.0), 
                opacity 200ms cubic-bezier(0.05, 0.7, 0.1, 1.0);
  }

  .ripple {
    @apply absolute rounded-full pointer-events-none;
    background-color: hsla(from var(--color-on-surface) h s l / 0.3);
    transform: scale(0);
    animation: ripple-animation 450ms ease-out;
  }

  @keyframes ripple-animation {
    to {
      transform: scale(4);
      opacity: 0;
    }
  }
}

/* 6. 滚动条样式 */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { 
  background-color: var(--color-outline); 
  @apply rounded;
}
